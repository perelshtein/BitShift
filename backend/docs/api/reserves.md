## –†–µ–∑–µ—Ä–≤—ã ##

–†–µ–∑–µ—Ä–≤ ‚Äî —ç—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ä–µ–¥—Å—Ç–≤ –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç–µ. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫, —Å—É–º–º–∞ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–≤—ã—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è –æ–±–º–µ–Ω–∞.

–ï—Å–ª–∏ —Ä–µ–∑–µ—Ä–≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `off`, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏ –Ω–∞ **–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é —Å—É–º–º—É**.

---

## **üîπ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏**
### üìâ –ö–æ–≥–¥–∞ —Ä–µ–∑–µ—Ä–≤ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è?
- –ï—Å–ª–∏ —Ä–µ–∑–µ—Ä–≤ –∑–∞–¥–∞–Ω –≤—Ä—É—á–Ω—É—é (`manual`) –∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ —Ñ–∞–π–ª–∞ (`fromFile`), –æ–Ω **—É–º–µ–Ω—å—à–∞–µ—Ç—Å—è** –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–æ–∑–¥–∞–Ω–Ω–æ–π –∑–∞—è–≤–∫–µ.
- –ï—Å–ª–∏ —Ä–µ–∑–µ—Ä–≤ –±–µ—Ä—ë—Ç—Å—è —Å –±–∏—Ä–∂–∏ (`fromExchange`), –æ–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**.
- –ï—Å–ª–∏ —Ä–µ–∑–µ—Ä–≤ –æ—Ç–∫–ª—é—á–µ–Ω (`off`), —Å—É–º–º–∞ –∑–∞—è–≤–∫–∏ **–Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞**.

---

## **üîπ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–∞**
### `GET /api/reserve/{code}`
**–ü—Ä–∞–≤–∞:** ‚úÖ –û—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö  
–ó–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Ä–µ–∑–µ—Ä–≤ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã. –†–µ–∑–µ—Ä–≤ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è, –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–∞–Ω
–≤ –ª—é–±–æ–π –≤–∞–ª—é—Ç–µ. –î–∞–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª —Å–¥–µ–ª–∞–Ω –¥–ª—è –∞–¥–º–∏–Ω–∫–∏, —á—Ç–æ–±—ã –º–µ–Ω—è—Ç—å —Ä–µ–∑–µ—Ä–≤ –∏–º–µ–Ω–Ω–æ –≤ —Ç–æ–π –≤–∞–ª—é—Ç–µ,
–≤ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω –∑–∞–¥–∞–≤–∞–ª—Å—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `code` ‚Äì –∫–æ–¥ –≤–∞–ª—é—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `BTC`, `ETH`).

---

### **üîπ –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞**
### **1Ô∏è‚É£ –†–µ–∑–µ—Ä–≤ –æ—Ç–∫–ª—é—á–µ–Ω**
–†–µ–∑–µ—Ä–≤ **–Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏.

**–û—Ç–≤–µ—Ç:**
```json
{
   "type": "success",
   "message": null,
   "data": {
      "reserveType": "off",
      "reserveCurrency": null,
      "value": null,
      "exchangeName": null
   },
   "action": null
}
```
- –≠—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç **–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**.
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π**.
- **–ó–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è** –ø—Ä–∏ –∑–∞—è–≤–∫–∞—Ö.

---

### **2Ô∏è‚É£ –ó–∞–¥–∞–Ω –≤—Ä—É—á–Ω—É—é (–∏–∑–º–µ–Ω—è–µ–º—ã–π)**
–†–µ–∑–µ—Ä–≤ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è **–≤—Ä—É—á–Ω—É—é** –∏ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞—è–≤–∫–∞—Ö.

**–û—Ç–≤–µ—Ç:**
```json
{
   "type": "success",
   "message": null,
   "data": {
      "reserveType": "manual",
      "reserveCurrency": "RUB",
      "value": 20000.0,
      "exchangeName": null
   },
   "action": null
}
```
- `reserveCurrency` ‚Äì –≤–∞–ª—é—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –∑–∞–¥–∞–Ω —Ä–µ–∑–µ—Ä–≤.
- `value` ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–ª—é—Ç—ã (–≤ –ø—Ä–∏–º–µ—Ä–µ **20000 RUB**).
- **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ —Ä–µ–∑–µ—Ä–≤ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è**.

---

### **3Ô∏è‚É£ –†–µ–∑–µ—Ä–≤ –∏–∑ —Ñ–∞–π–ª–∞ (–∏–∑–º–µ–Ω—è–µ–º—ã–π)**
–†–µ–∑–µ—Ä–≤ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è **–∏–∑ —Ñ–∞–π–ª–∞** (`reserve.json`) –∏ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏.

**–û—Ç–≤–µ—Ç:**
```json
{
   "type": "success",
   "message": null,
   "data": {
      "reserveType": "fromFile",
      "reserveCurrency": "USDT",
      "value": 500.0,
      "exchangeName": null
   },
   "action": null
}
```

- –≠—Ç–æ—Ç —Ä–µ–∑–µ—Ä–≤ **–º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑ –≤ –¥–µ–Ω—å).
- **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ —Ä–µ–∑–µ—Ä–≤ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è**.
- –ù–æ–≤—ã–π —Ñ–∞–π–ª `reserve.json` –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è.

---

### **4Ô∏è‚É£ –†–µ–∑–µ—Ä–≤ —Å –±–∏—Ä–∂–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π, –ù–ï –∏–∑–º–µ–Ω—è–µ—Ç—Å—è)**
–†–µ–∑–µ—Ä–≤ **–∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Å –±–∏—Ä–∂–∏** –∏ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é.  
–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ç–∏–ø —Ä–µ–∑–µ—Ä–≤–∞, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å API-–∫–ª—é—á –¥–ª—è –±–∏—Ä–∂–∏.  
–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ Bybit –∏ Mexc.

**–û—Ç–≤–µ—Ç:**
```json
{
   "type": "success",
   "message": null,
   "data": {
      "reserveType": "fromExchange",
      "reserveCurrency": "USDT",
      "value": 500.0,
      "exchangeName": "Bybit"
   },
   "action": null
}
```
- **–≠—Ç–æ—Ç —Ä–µ–∑–µ—Ä–≤ –ù–ï —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏**.
- **–û–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ**.
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**.

---

### `GET /api/user/reserve`
**–ü—Ä–∞–≤–∞:** ‚úÖ –û—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö  
–ó–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Ä–µ–∑–µ—Ä–≤ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã.    
–≠—Ç–æ—Ç –º–∞—Ä—à—Ä—É—Ç –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –≤–∞–ª—é—Ç—ã `BTC` 
–º—ã –∑–∞–¥–∞–ª–∏ —Ä–µ–∑–µ—Ä–≤ –≤ `DOGE`. –ù–æ –ø–æ–ª—É—á–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω –≤ `BTC` –ø–æ —Ç–µ–∫—É—â–µ–º—É –∫—É—Ä—Å—É. 
–ï—Å–ª–∏ —Ä–µ–∑–µ—Ä–≤ –Ω–µ –∑–∞–¥–∞–Ω, –æ—à–∏–±–∫–∏ –Ω–µ –±—É–¥–µ—Ç, –ø–æ–ª—É—á–∏–º 0.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `to` - –∫–æ–¥ –≤–∞–ª—é—Ç—ã, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑–µ—Ä–≤.

**–û—Ç–≤–µ—Ç:**
```json
{
   "type": "success",
   "message": null,
   "data": {
      "reserve": 500.0      
   },
   "action": null
}
```

## **üîπ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–∞ –¥–ª—è –≤—Å–µ—Ö –≤–∞–ª—é—Ç**
### `GET /api/reserves`
**–ü—Ä–∞–≤–∞:** ‚úÖ –û—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö  
–ó–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ä–µ–∑–µ—Ä–≤–æ–≤ –¥–ª—è –≤—Å–µ—Ö –≤–∞–ª—é—Ç.  
–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ `reserveType` –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `error`. –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–∏ –æ—à–∏–±–∫–µ —Ä–µ–∑–µ—Ä–≤–∞ –ø–æ –æ–¥–Ω–æ–π –≤–∞–ª—é—Ç–µ
—Ä–µ–∑–µ—Ä–≤—ã –ø–æ –¥—Ä—É–≥–∏–º –≤–∞–ª—é—Ç–∞–º –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è.

**–û—Ç–≤–µ—Ç:**

```json
{
   "type": "success",
   "message": null,
   "data": {
      "RUB": {
         "reserveType": "manual",
         "reserveCurrency": "RUB",
         "value": 500
      },
      "EUR": {
         "reserveType": "manual",
         "reserveCurrency": "EUR",
         "value": 10
      },
      "TON": {
         "reserveType": "error",
         "reserveCurrency": null,
         "value": null
      },
      "ETH": {
         "reserveType": "fromFile",
         "reserveCurrency": "USDT",
         "value": 1000
      }
   },
   "action": null
}
```
---

## **üîπ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–∑–µ—Ä–≤–∞**
### `POST /api/reserve/{code}`
**–ü—Ä–∞–≤–∞:** üî¥ –∞–¥–º–∏–Ω–∫–∞, `isEditReserve`  
–ü–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–∑–µ—Ä–≤. –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å **–æ–¥–∏–Ω –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤**:
- `off`
- `manual`
- `fromFile`
- `fromExchange`  
 
   
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
`code` - –≤–∞–ª—é—Ç–∞, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤.

**–ó–∞–ø—Ä–æ—Å:**
POST api/reserve/RUB
```json
{
   "reserveType": "manual",
   "reserveCurrency": null,
   "value": 20000,
   "exchangeName": ""
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "type": "success",
  "message": "–†–µ–∑–µ—Ä–≤ –¥–ª—è –≤–∞–ª—é—Ç—ã RUB –æ–±–Ω–æ–≤–ª–µ–Ω",
  "data": null,
  "action": null
}
```

---

## **üîπ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–∞**
### `POST /api/reserve/update/{code}`
**–ü—Ä–∞–≤–∞:** üî¥ –∞–¥–º–∏–Ω–∫–∞, `isEditReserve`  
–ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–Ω–æ–≤–æ –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å —Ä–µ–∑–µ—Ä–≤ –∏–∑ —Ñ–∞–π–ª–∞.  
–ü–æ –º–µ—Ä–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫, –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–∞ –æ–ø—Ü–∏—è "–ò–∑ —Ñ–∞–π–ª–∞", —Ä–µ–∑–µ—Ä–≤ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è.

**–ó–∞–ø—Ä–æ—Å:**
POST api/reserve/update/ETH

**–û—Ç–≤–µ—Ç:**
```json
{
  "type": "success",
  "message": "–†–µ–∑–µ—Ä–≤ –∏–∑ —Ñ–∞–π–ª–∞ –¥–ª—è ETH –æ–±–Ω–æ–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é: 3000.0 USDT",
  "data": null,
  "action": null
}
```